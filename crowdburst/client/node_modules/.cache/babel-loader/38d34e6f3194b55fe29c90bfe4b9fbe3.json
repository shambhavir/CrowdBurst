{"ast":null,"code":"import _regeneratorRuntime from\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';var AppFront=/*#__PURE__*/function(_Component){_inherits(AppFront,_Component);var _super=_createSuper(AppFront);function AppFront(){var _this;_classCallCheck(this,AppFront);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={response:'',post:'',responseToPost:''};_this.callApi=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/hello');case 2:response=_context.sent;_context.next=5;return response.json();case 5:body=_context.sent;if(!(response.status!==200)){_context.next=8;break;}throw Error(body.message);case 8:return _context.abrupt(\"return\",body);case 9:case\"end\":return _context.stop();}}},_callee);}));_this.handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var response,body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return fetch('/api/world',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({post:_this.state.post})});case 3:response=_context2.sent;_context2.next=6;return response.text();case 6:body=_context2.sent;_this.setState({responseToPost:body});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(AppFront,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.callApi().then(function(res){return _this2.setState({response:res.express});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"}),/*#__PURE__*/React.createElement(\"p\",null,this.state.response),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Post to Server:\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.post,onChange:function onChange(e){return _this3.setState({post:e.target.value});}}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Submit\")),/*#__PURE__*/React.createElement(\"p\",null,this.state.responseToPost));}}]);return AppFront;}(Component);export default AppFront;","map":{"version":3,"sources":["/Users/S/Desktop/nodeprotake2/crowdburst/client/src/AppFront.js"],"names":["React","Component","AppFront","state","response","post","responseToPost","callApi","fetch","json","body","status","Error","message","handleSubmit","e","preventDefault","method","headers","JSON","stringify","text","setState","then","res","express","catch","err","console","log","target","value"],"mappings":"i9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,Q,mUACFC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,IAAI,CAAE,EAFA,CAGNC,cAAc,CAAE,EAHV,C,OAYRC,O,sEAAU,2KACeC,CAAAA,KAAK,CAAC,YAAD,CADpB,QACFJ,QADE,qCAEWA,CAAAA,QAAQ,CAACK,IAAT,EAFX,QAEFC,IAFE,oBAGJN,QAAQ,CAACO,MAAT,GAAoB,GAHhB,+BAG2BC,CAAAA,KAAK,CAACF,IAAI,CAACG,OAAN,CAHhC,wCAKDH,IALC,wD,SAQVI,Y,2FAAe,kBAAMC,CAAN,wIACbA,CAAC,CAACC,cAAF,GADa,uBAEUR,CAAAA,KAAK,CAAC,YAAD,CAAe,CACzCS,MAAM,CAAE,MADiC,CAEzCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFgC,CAKzCR,IAAI,CAAES,IAAI,CAACC,SAAL,CAAe,CAAEf,IAAI,CAAE,MAAKF,KAAL,CAAWE,IAAnB,CAAf,CALmC,CAAf,CAFf,QAEPD,QAFO,uCASMA,CAAAA,QAAQ,CAACiB,IAAT,EATN,QASPX,IATO,gBAWb,MAAKY,QAAL,CAAc,CAAEhB,cAAc,CAAEI,IAAlB,CAAd,EAXa,wD,gKAdK,iBAClB,KAAKH,OAAL,GACGgB,IADH,CACQ,SAAAC,GAAG,QAAI,CAAA,MAAI,CAACF,QAAL,CAAc,CAAElB,QAAQ,CAAEoB,GAAG,CAACC,OAAhB,CAAd,CAAJ,EADX,EAEGC,KAFH,CAES,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFZ,EAGD,C,uCAwBM,iBACL,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,8BAAQ,SAAS,CAAC,YAAlB,EADF,cAGE,6BAAI,KAAKxB,KAAL,CAAWC,QAAf,CAHF,cAIE,4BAAM,QAAQ,CAAE,KAAKU,YAArB,eACE,0CACE,oDADF,CADF,cAIE,6BACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAE,KAAKX,KAAL,CAAWE,IAFpB,CAGE,QAAQ,CAAE,kBAAAU,CAAC,QAAI,CAAA,MAAI,CAACO,QAAL,CAAc,CAAEjB,IAAI,CAAEU,CAAC,CAACe,MAAF,CAASC,KAAjB,CAAd,CAAJ,EAHb,EAJF,cASE,8BAAQ,IAAI,CAAC,QAAb,WATF,CAJF,cAeE,6BAAI,KAAK5B,KAAL,CAAWG,cAAf,CAfF,CADF,CAmBD,C,sBAvDkBL,S,EA0DrB,cAAeC,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass AppFront extends Component {\n    state = {\n      response: '',\n      post: '',\n      responseToPost: '',\n    };\n    \n    componentDidMount() {\n      this.callApi()\n        .then(res => this.setState({ response: res.express }))\n        .catch(err => console.log(err));\n    }\n    \n    callApi = async () => {\n      const response = await fetch('/api/hello');\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      \n      return body;\n    };\n    \n    handleSubmit = async e => {\n      e.preventDefault();\n      const response = await fetch('/api/world', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ post: this.state.post }),\n      });\n      const body = await response.text();\n      \n      this.setState({ responseToPost: body });\n    };\n    \n  render() {\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n          </header>\n          <p>{this.state.response}</p>\n          <form onSubmit={this.handleSubmit}>\n            <p>\n              <strong>Post to Server:</strong>\n            </p>\n            <input\n              type=\"text\"\n              value={this.state.post}\n              onChange={e => this.setState({ post: e.target.value })}\n            />\n            <button type=\"submit\">Submit</button>\n          </form>\n          <p>{this.state.responseToPost}</p>\n        </div>\n      );\n    }\n  }\n  \n  export default AppFront; "]},"metadata":{},"sourceType":"module"}