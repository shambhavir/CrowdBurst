{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar handleCallback = require('../utils').handleCallback;\n\nvar OperationBase = require('./operation').OperationBase;\n\nvar toError = require('../utils').toError;\n\nvar FindOneOperation = /*#__PURE__*/function (_OperationBase) {\n  _inherits(FindOneOperation, _OperationBase);\n\n  var _super = _createSuper(FindOneOperation);\n\n  function FindOneOperation(collection, query, options) {\n    var _this;\n\n    _classCallCheck(this, FindOneOperation);\n\n    _this = _super.call(this, options);\n    _this.collection = collection;\n    _this.query = query;\n    return _this;\n  }\n\n  _createClass(FindOneOperation, [{\n    key: \"execute\",\n    value: function execute(callback) {\n      var coll = this.collection;\n      var query = this.query;\n      var options = this.options;\n\n      try {\n        var cursor = coll.find(query, options).limit(-1).batchSize(1); // Return the item\n\n        cursor.next(function (err, item) {\n          if (err != null) return handleCallback(callback, toError(err), null);\n          handleCallback(callback, null, item);\n        });\n      } catch (e) {\n        callback(e);\n      }\n    }\n  }]);\n\n  return FindOneOperation;\n}(OperationBase);\n\nmodule.exports = FindOneOperation;","map":{"version":3,"sources":["/Users/S/Desktop/nodeprotake2/node_modules/mongodb/lib/operations/find_one.js"],"names":["handleCallback","require","OperationBase","toError","FindOneOperation","collection","query","options","callback","coll","cursor","find","limit","batchSize","next","err","item","e","module","exports"],"mappings":"AAAA;;;;;;;;;;AAEA,IAAMA,cAAc,GAAGC,OAAO,CAAC,UAAD,CAAP,CAAoBD,cAA3C;;AACA,IAAME,aAAa,GAAGD,OAAO,CAAC,aAAD,CAAP,CAAuBC,aAA7C;;AACA,IAAMC,OAAO,GAAGF,OAAO,CAAC,UAAD,CAAP,CAAoBE,OAApC;;IAEMC,gB;;;;;AACJ,4BAAYC,UAAZ,EAAwBC,KAAxB,EAA+BC,OAA/B,EAAwC;AAAA;;AAAA;;AACtC,8BAAMA,OAAN;AAEA,UAAKF,UAAL,GAAkBA,UAAlB;AACA,UAAKC,KAAL,GAAaA,KAAb;AAJsC;AAKvC;;;;4BAEOE,Q,EAAU;AAChB,UAAMC,IAAI,GAAG,KAAKJ,UAAlB;AACA,UAAMC,KAAK,GAAG,KAAKA,KAAnB;AACA,UAAMC,OAAO,GAAG,KAAKA,OAArB;;AAEA,UAAI;AACF,YAAMG,MAAM,GAAGD,IAAI,CAChBE,IADY,CACPL,KADO,EACAC,OADA,EAEZK,KAFY,CAEN,CAAC,CAFK,EAGZC,SAHY,CAGF,CAHE,CAAf,CADE,CAMF;;AACAH,QAAAA,MAAM,CAACI,IAAP,CAAY,UAACC,GAAD,EAAMC,IAAN,EAAe;AACzB,cAAID,GAAG,IAAI,IAAX,EAAiB,OAAOf,cAAc,CAACQ,QAAD,EAAWL,OAAO,CAACY,GAAD,CAAlB,EAAyB,IAAzB,CAArB;AACjBf,UAAAA,cAAc,CAACQ,QAAD,EAAW,IAAX,EAAiBQ,IAAjB,CAAd;AACD,SAHD;AAID,OAXD,CAWE,OAAOC,CAAP,EAAU;AACVT,QAAAA,QAAQ,CAACS,CAAD,CAAR;AACD;AACF;;;;EA3B4Bf,a;;AA8B/BgB,MAAM,CAACC,OAAP,GAAiBf,gBAAjB","sourcesContent":["'use strict';\n\nconst handleCallback = require('../utils').handleCallback;\nconst OperationBase = require('./operation').OperationBase;\nconst toError = require('../utils').toError;\n\nclass FindOneOperation extends OperationBase {\n  constructor(collection, query, options) {\n    super(options);\n\n    this.collection = collection;\n    this.query = query;\n  }\n\n  execute(callback) {\n    const coll = this.collection;\n    const query = this.query;\n    const options = this.options;\n\n    try {\n      const cursor = coll\n        .find(query, options)\n        .limit(-1)\n        .batchSize(1);\n\n      // Return the item\n      cursor.next((err, item) => {\n        if (err != null) return handleCallback(callback, toError(err), null);\n        handleCallback(callback, null, item);\n      });\n    } catch (e) {\n      callback(e);\n    }\n  }\n}\n\nmodule.exports = FindOneOperation;\n"]},"metadata":{},"sourceType":"script"}