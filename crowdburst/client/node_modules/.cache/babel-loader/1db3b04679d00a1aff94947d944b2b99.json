{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { EJSON } from \"bson\";\nimport ContentTypes from \"./ContentTypes\";\nimport Headers from \"./Headers\";\nimport { StitchRequest } from \"./StitchRequest\";\n\nvar StitchDocRequest = function (_super) {\n  __extends(StitchDocRequest, _super);\n\n  function StitchDocRequest(request, document) {\n    var _this = _super.call(this, request.method, request.path, request.headers, request.startedAt, request.body) || this;\n\n    _this.document = document;\n    return _this;\n  }\n\n  Object.defineProperty(StitchDocRequest.prototype, \"builder\", {\n    get: function () {\n      return new StitchDocRequest.Builder(this);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return StitchDocRequest;\n}(StitchRequest);\n\nexport { StitchDocRequest };\n\n(function (StitchDocRequest) {\n  var Builder = function (_super) {\n    __extends(Builder, _super);\n\n    function Builder(request) {\n      var _this = _super.call(this, request) || this;\n\n      if (request !== undefined) {\n        _this.document = request.document;\n      }\n\n      return _this;\n    }\n\n    Builder.prototype.withDocument = function (document) {\n      this.document = document;\n      return this;\n    };\n\n    Builder.prototype.build = function () {\n      if (this.document === undefined || !(this.document instanceof Object)) {\n        throw new Error(\"document must be set\");\n      }\n\n      if (this.headers === undefined) {\n        this.withHeaders({});\n      }\n\n      this.headers[Headers.CONTENT_TYPE] = ContentTypes.APPLICATION_JSON;\n      this.withBody(EJSON.stringify(this.document, {\n        relaxed: false\n      }));\n      return new StitchDocRequest(_super.prototype.build.call(this), this.document);\n    };\n\n    return Builder;\n  }(StitchRequest.Builder);\n\n  StitchDocRequest.Builder = Builder;\n})(StitchDocRequest || (StitchDocRequest = {}));","map":{"version":3,"sources":["../../../../src/internal/net/StitchDocRequest.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAgBA,SAAS,KAAT,QAAsB,MAAtB;AACA,OAAO,YAAP,MAAyB,gBAAzB;AACA,OAAO,OAAP,MAAoB,WAApB;AACA,SAAS,aAAT,QAA8B,iBAA9B;;AAGA,IAAA,gBAAA,GAAA,UAAA,MAAA,EAAA;AAAsC,EAAA,SAAA,CAAA,gBAAA,EAAA,MAAA,CAAA;;AAGpC,WAAA,gBAAA,CAAY,OAAZ,EAAoC,QAApC,EAAoD;AAApD,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EACE,OAAO,CAAC,MADV,EAEE,OAAO,CAAC,IAFV,EAGE,OAAO,CAAC,OAHV,EAIE,OAAO,CAAC,SAJV,EAKE,OAAO,CAAC,IALV,KAMC,IAPH;;AASE,IAAA,KAAI,CAAC,QAAL,GAAgB,QAAhB;;AACD;;AAED,EAAA,MAAA,CAAA,cAAA,CAAW,gBAAA,CAAA,SAAX,EAAW,SAAX,EAAkB;SAAlB,YAAA;AACE,aAAO,IAAI,gBAAgB,CAAC,OAArB,CAA6B,IAA7B,CAAP;AACD,KAFiB;oBAAA;;AAAA,GAAlB;AAGF,SAAA,gBAAA;AAAC,CAlBD,CAAsC,aAAtC,CAAA;;;;AAqBA,CAAA,UAAiB,gBAAjB,EAAiC;AAC/B,MAAA,OAAA,GAAA,UAAA,MAAA,EAAA;AAA6B,IAAA,SAAA,CAAA,OAAA,EAAA,MAAA,CAAA;;AAG3B,aAAA,OAAA,CAAY,OAAZ,EAAsC;AAAtC,UAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,OAAN,KAAc,IADhB;;AAGE,UAAI,OAAO,KAAK,SAAhB,EAA2B;AACzB,QAAA,KAAI,CAAC,QAAL,GAAgB,OAAO,CAAC,QAAxB;AACD;;;AACF;;AAEM,IAAA,OAAA,CAAA,SAAA,CAAA,YAAA,GAAP,UAAoB,QAApB,EAAoC;AAClC,WAAK,QAAL,GAAgB,QAAhB;AACA,aAAO,IAAP;AACD,KAHM;;AAKA,IAAA,OAAA,CAAA,SAAA,CAAA,KAAA,GAAP,YAAA;AACE,UAAI,KAAK,QAAL,KAAkB,SAAlB,IAA+B,EAAE,KAAK,QAAL,YAAyB,MAA3B,CAAnC,EAAuE;AACrE,cAAM,IAAI,KAAJ,CAAU,sBAAV,CAAN;AACD;;AACD,UAAI,KAAK,OAAL,KAAiB,SAArB,EAAgC;AAC9B,aAAK,WAAL,CAAiB,EAAjB;AACD;;AACD,WAAK,OAAL,CAAc,OAAO,CAAC,YAAtB,IAAsC,YAAY,CAAC,gBAAnD;AACA,WAAK,QAAL,CAAc,KAAK,CAAC,SAAN,CAAgB,KAAK,QAArB,EAA+B;AAAE,QAAA,OAAO,EAAE;AAAX,OAA/B,CAAd;AACA,aAAO,IAAI,gBAAJ,CAAqB,MAAA,CAAA,SAAA,CAAM,KAAN,CAAW,IAAX,CAAW,IAAX,CAArB,EAAoC,KAAK,QAAzC,CAAP;AACD,KAVM;;AAWT,WAAA,OAAA;AAAC,GA3BD,CAA6B,aAAa,CAAC,OAA3C,CAAA;;AAAa,EAAA,gBAAA,CAAA,OAAA,GAAO,OAAP;AA4Bd,CA7BD,EAAiB,gBAAgB,KAAhB,gBAAgB,GAAA,EAAA,CAAjC","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EJSON } from \"bson\";\nimport ContentTypes from \"./ContentTypes\";\nimport Headers from \"./Headers\";\nimport { StitchRequest } from \"./StitchRequest\";\nvar StitchDocRequest = (function (_super) {\n    __extends(StitchDocRequest, _super);\n    function StitchDocRequest(request, document) {\n        var _this = _super.call(this, request.method, request.path, request.headers, request.startedAt, request.body) || this;\n        _this.document = document;\n        return _this;\n    }\n    Object.defineProperty(StitchDocRequest.prototype, \"builder\", {\n        get: function () {\n            return new StitchDocRequest.Builder(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StitchDocRequest;\n}(StitchRequest));\nexport { StitchDocRequest };\n(function (StitchDocRequest) {\n    var Builder = (function (_super) {\n        __extends(Builder, _super);\n        function Builder(request) {\n            var _this = _super.call(this, request) || this;\n            if (request !== undefined) {\n                _this.document = request.document;\n            }\n            return _this;\n        }\n        Builder.prototype.withDocument = function (document) {\n            this.document = document;\n            return this;\n        };\n        Builder.prototype.build = function () {\n            if (this.document === undefined || !(this.document instanceof Object)) {\n                throw new Error(\"document must be set\");\n            }\n            if (this.headers === undefined) {\n                this.withHeaders({});\n            }\n            this.headers[Headers.CONTENT_TYPE] = ContentTypes.APPLICATION_JSON;\n            this.withBody(EJSON.stringify(this.document, { relaxed: false }));\n            return new StitchDocRequest(_super.prototype.build.call(this), this.document);\n        };\n        return Builder;\n    }(StitchRequest.Builder));\n    StitchDocRequest.Builder = Builder;\n})(StitchDocRequest || (StitchDocRequest = {}));\n//# sourceMappingURL=StitchDocRequest.js.map"]},"metadata":{},"sourceType":"module"}