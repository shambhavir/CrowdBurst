{"ast":null,"code":"var _jsxFileName = \"/Users/S/Desktop/nodeprotake2/crowdburst/src/Groceries.js\";\nimport React, { useState } from 'react';\nimport { useSubscription, useMutation, gql, useLazyQuery } from '@apollo/client';\nimport { useQuery } from '@apollo/client';\nimport { List, ListItem } from './Components/shared/List'; // import {Badge} from './shared/Badge';\n\nimport InputForm from './InputForm'; // const GROCERY = gql \n// `\n//     subscription Grocery($id: String!)\n//     {\n//         grocery_by_pk(id: $id)\n//         {\n//             address\n//             alias\n//             display_phone\n//             id\n//             name\n//             finrevs {\n//                 body\n//                 grid\n//                     }\n//         }\n//     }\n// `;\n\nconst GROCERY = gql`\n\n   query Grocery($id: String!)\n    {\n        grocery_by_pk(id: $id)\n        {\n            address\n            alias\n            display_phone\n            id\n            name\n            finrevs {\n                body\n                grid\n                    }\n        }\n    }\n\n`; // const ADD_REVIEW = gql`\n//   mutation($body: String!, $id: uuid!) {\n//     AddFearlessReview(body: $body, id: $id) {\n//       affected_rows\n//     }\n//   }\n// `;\n\nconst Groceries = ({\n  match: {\n    params: {\n      id\n    }\n  }\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GROCERY, {\n    variables: {\n      id\n    }\n  }); //   const [inputVal, setInputVal] = useState(\"\");\n  // const { loading, error, data } = useSubscription(GROCERY, {\n  //   variables: { id },\n  // });\n  // const [addReview] = useMutation(ADD_REVIEW);\n\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"Loading ...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }, \"Error :(\");\n  const {\n    name,\n    address,\n    finrev\n  } = data.grocery_by_pk;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, name, \" \", address), /*#__PURE__*/React.createElement(InputForm // inputVal={inputVal}\n  // onChange={(e) => setInputVal(e.target.value)}\n  // onSubmit={() => {\n  //   addReview({ variables: { id, body: inputVal } })\n  //     .then(() => setInputVal(\"\"))\n  //     .catch((e) => {\n  //       setInputVal(e.message);\n  //     })\n  , {\n    buttonText: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, finrev.map(finrev => /*#__PURE__*/React.createElement(ListItem, {\n    key: finrev.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, finrev.body))));\n};\n\nexport default Groceries;","map":{"version":3,"sources":["/Users/S/Desktop/nodeprotake2/crowdburst/src/Groceries.js"],"names":["React","useState","useSubscription","useMutation","gql","useLazyQuery","useQuery","List","ListItem","InputForm","GROCERY","Groceries","match","params","id","loading","error","data","variables","name","address","finrev","grocery_by_pk","map","body"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,eAAR,EAAyBC,WAAzB,EAAsCC,GAAtC,EAA2CC,YAA3C,QAA8D,gBAA9D;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,SAAQC,IAAR,EAAcC,QAAd,QAA6B,0BAA7B,C,CACA;;AACA,OAAOC,SAAP,MAAsB,aAAtB,C,CAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAGA,MAAMC,OAAO,GAAGN,GACf;;;;;;;;;;;;;;;;;;CADD,C,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMO,SAAS,GAAG,CAAC;AACfC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE;AAAEC,MAAAA;AAAF;AADH;AADQ,CAAD,KAIV;AACJ,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAAyBX,QAAQ,CAACI,OAAD,EAAU;AAACQ,IAAAA,SAAS,EAAE;AAACJ,MAAAA;AAAD;AAAZ,GAAV,CAAvC,CADI,CAEN;AACA;AACA;AACA;AACA;;AAEE,MAAIC,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;AAGX,QAAM;AAAEG,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA4BJ,IAAI,CAACK,aAAvC;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,IADH,OACUC,OADV,CADF,eAIE,oBAAC,SAAD,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARF;AASE,IAAA,UAAU,EAAC,QATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAeE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,MAAM,CAACE,GAAP,CAAYF,MAAD,iBACV,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,MAAM,CAACP,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BO,MAAM,CAACG,IAAlC,CADD,CADH,CAfF,CADJ;AAuBC,CAzCL;;AA2CA,eAAeb,SAAf","sourcesContent":["import React, {useState} from 'react';\nimport {useSubscription, useMutation, gql, useLazyQuery} from '@apollo/client';\nimport {useQuery} from '@apollo/client'; \nimport {List, ListItem} from './Components/shared/List';\n// import {Badge} from './shared/Badge';\nimport InputForm from './InputForm'; \n\n\n// const GROCERY = gql \n// `\n\n//     subscription Grocery($id: String!)\n//     {\n//         grocery_by_pk(id: $id)\n//         {\n//             address\n//             alias\n//             display_phone\n//             id\n//             name\n//             finrevs {\n//                 body\n//                 grid\n//                     }\n//         }\n//     }\n\n// `;\n\n\nconst GROCERY = gql \n`\n\n   query Grocery($id: String!)\n    {\n        grocery_by_pk(id: $id)\n        {\n            address\n            alias\n            display_phone\n            id\n            name\n            finrevs {\n                body\n                grid\n                    }\n        }\n    }\n\n`;\n\n\n// const ADD_REVIEW = gql`\n//   mutation($body: String!, $id: uuid!) {\n//     AddFearlessReview(body: $body, id: $id) {\n//       affected_rows\n//     }\n//   }\n// `;\n\nconst Groceries = ({\n    match: {\n      params: { id },\n    },\n  }) => {\n    const {loading, error, data} = useQuery(GROCERY, {variables: {id}}); \n  //   const [inputVal, setInputVal] = useState(\"\");\n  // const { loading, error, data } = useSubscription(GROCERY, {\n  //   variables: { id },\n  // });\n  // const [addReview] = useMutation(ADD_REVIEW);\n\n    if (loading) return <p>Loading ...</p>;\n    if (error) return <p>Error :(</p>;\n\n\n    const { name, address, finrev } = data.grocery_by_pk;\n\n    return (\n        <div>\n          <h3>\n            {name} {address}\n          </h3>\n          <InputForm\n            // inputVal={inputVal}\n            // onChange={(e) => setInputVal(e.target.value)}\n            // onSubmit={() => {\n            //   addReview({ variables: { id, body: inputVal } })\n            //     .then(() => setInputVal(\"\"))\n            //     .catch((e) => {\n            //       setInputVal(e.message);\n            //     })\n            buttonText=\"Submit\"\n          />\n          <List>\n            {finrev.map((finrev) => (\n              <ListItem key={finrev.id}>{finrev.body}</ListItem>\n            ))}\n          </List>\n        </div>\n      );\n    };\n\nexport default Groceries;"]},"metadata":{},"sourceType":"module"}