{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _get = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/S/Desktop/nodeprotake2/crowdburst/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar Aspect = require('./operation').Aspect;\n\nvar CommandOperation = require('./command');\n\nvar defineAspects = require('./operation').defineAspects;\n\nvar handleCallback = require('../utils').handleCallback;\n\nvar DropOperation = /*#__PURE__*/function (_CommandOperation) {\n  _inherits(DropOperation, _CommandOperation);\n\n  var _super = _createSuper(DropOperation);\n\n  function DropOperation(db, options) {\n    _classCallCheck(this, DropOperation);\n\n    var finalOptions = Object.assign({}, options, db.s.options);\n\n    if (options.session) {\n      finalOptions.session = options.session;\n    }\n\n    return _super.call(this, db, finalOptions);\n  }\n\n  _createClass(DropOperation, [{\n    key: \"execute\",\n    value: function execute(callback) {\n      _get(_getPrototypeOf(DropOperation.prototype), \"execute\", this).call(this, function (err, result) {\n        if (err) return handleCallback(callback, err);\n        if (result.ok) return handleCallback(callback, null, true);\n        handleCallback(callback, null, false);\n      });\n    }\n  }]);\n\n  return DropOperation;\n}(CommandOperation);\n\ndefineAspects(DropOperation, Aspect.WRITE_OPERATION);\n\nvar DropCollectionOperation = /*#__PURE__*/function (_DropOperation) {\n  _inherits(DropCollectionOperation, _DropOperation);\n\n  var _super2 = _createSuper(DropCollectionOperation);\n\n  function DropCollectionOperation(db, name, options) {\n    var _this;\n\n    _classCallCheck(this, DropCollectionOperation);\n\n    _this = _super2.call(this, db, options);\n    _this.name = name;\n    _this.namespace = \"\".concat(db.namespace, \".\").concat(name);\n    return _this;\n  }\n\n  _createClass(DropCollectionOperation, [{\n    key: \"_buildCommand\",\n    value: function _buildCommand() {\n      return {\n        drop: this.name\n      };\n    }\n  }]);\n\n  return DropCollectionOperation;\n}(DropOperation);\n\nvar DropDatabaseOperation = /*#__PURE__*/function (_DropOperation2) {\n  _inherits(DropDatabaseOperation, _DropOperation2);\n\n  var _super3 = _createSuper(DropDatabaseOperation);\n\n  function DropDatabaseOperation() {\n    _classCallCheck(this, DropDatabaseOperation);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(DropDatabaseOperation, [{\n    key: \"_buildCommand\",\n    value: function _buildCommand() {\n      return {\n        dropDatabase: 1\n      };\n    }\n  }]);\n\n  return DropDatabaseOperation;\n}(DropOperation);\n\nmodule.exports = {\n  DropOperation: DropOperation,\n  DropCollectionOperation: DropCollectionOperation,\n  DropDatabaseOperation: DropDatabaseOperation\n};","map":{"version":3,"sources":["/Users/S/Desktop/nodeprotake2/node_modules/mongodb/lib/operations/drop.js"],"names":["Aspect","require","CommandOperation","defineAspects","handleCallback","DropOperation","db","options","finalOptions","Object","assign","s","session","callback","err","result","ok","WRITE_OPERATION","DropCollectionOperation","name","namespace","drop","DropDatabaseOperation","dropDatabase","module","exports"],"mappings":"AAAA;;;;;;;;;;;;;;AAEA,IAAMA,MAAM,GAAGC,OAAO,CAAC,aAAD,CAAP,CAAuBD,MAAtC;;AACA,IAAME,gBAAgB,GAAGD,OAAO,CAAC,WAAD,CAAhC;;AACA,IAAME,aAAa,GAAGF,OAAO,CAAC,aAAD,CAAP,CAAuBE,aAA7C;;AACA,IAAMC,cAAc,GAAGH,OAAO,CAAC,UAAD,CAAP,CAAoBG,cAA3C;;IAEMC,a;;;;;AACJ,yBAAYC,EAAZ,EAAgBC,OAAhB,EAAyB;AAAA;;AACvB,QAAMC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,OAAlB,EAA2BD,EAAE,CAACK,CAAH,CAAKJ,OAAhC,CAArB;;AAEA,QAAIA,OAAO,CAACK,OAAZ,EAAqB;AACnBJ,MAAAA,YAAY,CAACI,OAAb,GAAuBL,OAAO,CAACK,OAA/B;AACD;;AALsB,6BAOjBN,EAPiB,EAObE,YAPa;AAQxB;;;;4BAEOK,Q,EAAU;AAChB,iFAAc,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC7B,YAAID,GAAJ,EAAS,OAAOV,cAAc,CAACS,QAAD,EAAWC,GAAX,CAArB;AACT,YAAIC,MAAM,CAACC,EAAX,EAAe,OAAOZ,cAAc,CAACS,QAAD,EAAW,IAAX,EAAiB,IAAjB,CAArB;AACfT,QAAAA,cAAc,CAACS,QAAD,EAAW,IAAX,EAAiB,KAAjB,CAAd;AACD,OAJD;AAKD;;;;EAjByBX,gB;;AAoB5BC,aAAa,CAACE,aAAD,EAAgBL,MAAM,CAACiB,eAAvB,CAAb;;IAEMC,uB;;;;;AACJ,mCAAYZ,EAAZ,EAAgBa,IAAhB,EAAsBZ,OAAtB,EAA+B;AAAA;;AAAA;;AAC7B,+BAAMD,EAAN,EAAUC,OAAV;AAEA,UAAKY,IAAL,GAAYA,IAAZ;AACA,UAAKC,SAAL,aAAoBd,EAAE,CAACc,SAAvB,cAAoCD,IAApC;AAJ6B;AAK9B;;;;oCAEe;AACd,aAAO;AAAEE,QAAAA,IAAI,EAAE,KAAKF;AAAb,OAAP;AACD;;;;EAVmCd,a;;IAahCiB,qB;;;;;;;;;;;;;oCACY;AACd,aAAO;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAP;AACD;;;;EAHiClB,a;;AAMpCmB,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,aAAa,EAAbA,aADe;AAEfa,EAAAA,uBAAuB,EAAvBA,uBAFe;AAGfI,EAAAA,qBAAqB,EAArBA;AAHe,CAAjB","sourcesContent":["'use strict';\n\nconst Aspect = require('./operation').Aspect;\nconst CommandOperation = require('./command');\nconst defineAspects = require('./operation').defineAspects;\nconst handleCallback = require('../utils').handleCallback;\n\nclass DropOperation extends CommandOperation {\n  constructor(db, options) {\n    const finalOptions = Object.assign({}, options, db.s.options);\n\n    if (options.session) {\n      finalOptions.session = options.session;\n    }\n\n    super(db, finalOptions);\n  }\n\n  execute(callback) {\n    super.execute((err, result) => {\n      if (err) return handleCallback(callback, err);\n      if (result.ok) return handleCallback(callback, null, true);\n      handleCallback(callback, null, false);\n    });\n  }\n}\n\ndefineAspects(DropOperation, Aspect.WRITE_OPERATION);\n\nclass DropCollectionOperation extends DropOperation {\n  constructor(db, name, options) {\n    super(db, options);\n\n    this.name = name;\n    this.namespace = `${db.namespace}.${name}`;\n  }\n\n  _buildCommand() {\n    return { drop: this.name };\n  }\n}\n\nclass DropDatabaseOperation extends DropOperation {\n  _buildCommand() {\n    return { dropDatabase: 1 };\n  }\n}\n\nmodule.exports = {\n  DropOperation,\n  DropCollectionOperation,\n  DropDatabaseOperation\n};\n"]},"metadata":{},"sourceType":"script"}